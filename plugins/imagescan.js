const a70_0x132415=a70_0x30dc;function a70_0x5aa7(){const _0x16a36e=['fileupload','key','post','image/png','iyvZv','scan','writeFileSync','461710BGxCrh','HZDgM','628812aINaxQ','join','\x20attempts:\x20','now','error','ZLxeq','message','Failed\x20to\x20analyze\x20image','570YZOGvI','Image\x20Scan\x20Error:','wQYhO','KnuDQ','download','mtype','imagescan','data','gXHRo','cXCjU','16CVpdmj','498136tWoGKi','dGVtq','yzHKL','12gqJDoE','‚ùå\x20Error:\x20','imgscan','57805DDWpNB','getHeaders','mimetype','result','path','Upload\x20attempt\x20','oJWxo','IDVGE','image/jpeg','1iEVckA','.png','rmAXK','remoteJid','Unsupported\x20image\x20format.\x20Please\x20use\x20JPEG\x20or\x20PNG','Scan\x20attempt\x20','append','quoted','Successfully\x20uploaded\x20on\x20attempt\x20','success','includes','381878tMxdXU','Failed\x20to\x20upload\x20after\x20','407112MjMpwi','>\x20*¬©\x20·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20·¥ò·¥Ä·¥õ Ä·¥è…¥T·¥á·¥Ñ úÔº∏*\x20üöπ','createReadStream','.jpg','RQmKP','log','../command','imageMessage','Failed\x20to\x20scan\x20image\x20after\x20','397702PouMZg','Please\x20make\x20sure\x20you\x27re\x20replying\x20to\x20an\x20image\x20file\x20(JPEG/PNG)','giYNd'];a70_0x5aa7=function(){return _0x16a36e;};return a70_0x5aa7();}(function(_0x35ad0b,_0x438f7c){const _0x480cef=a70_0x30dc,_0x5c89ee=_0x35ad0b();while(!![]){try{const _0x4cd689=-parseInt(_0x480cef(0x6f))/0x1*(-parseInt(_0x480cef(0x85))/0x2)+parseInt(_0x480cef(0x7c))/0x3+-parseInt(_0x480cef(0xa4))/0x4+parseInt(_0x480cef(0x8f))/0x5*(parseInt(_0x480cef(0xa7))/0x6)+parseInt(_0x480cef(0x7a))/0x7*(parseInt(_0x480cef(0xa3))/0x8)+-parseInt(_0x480cef(0x91))/0x9+-parseInt(_0x480cef(0x99))/0xa*(parseInt(_0x480cef(0xaa))/0xb);if(_0x4cd689===_0x438f7c)break;else _0x5c89ee['push'](_0x5c89ee['shift']());}catch(_0x42d012){_0x5c89ee['push'](_0x5c89ee['shift']());}}}(a70_0x5aa7,0x20d0a));const axios=require('axios'),FormData=require('form-data'),fs=require('fs'),os=require('os'),path=require(a70_0x132415(0x6a)),{cmd}=require(a70_0x132415(0x82));async function uploadToCatbox(_0x2de5f9){const _0x5d96cd=a70_0x132415,_0x27dec6={'RQmKP':function(_0x3bab06,_0x5303a8){return _0x3bab06<=_0x5303a8;},'BRTXf':'https://catbox.moe/user/api.php','gXHRo':'Empty\x20response\x20from\x20Catbox','quKuh':function(_0x52bbec,_0x135240){return _0x52bbec>_0x135240;},'IDVGE':function(_0x432a54,_0x328800){return _0x432a54===_0x328800;}},_0x410348=0x3,_0x53d0a9=0x7530;for(let _0x424b3c=0x1;_0x27dec6[_0x5d96cd(0x80)](_0x424b3c,_0x410348);_0x424b3c++){try{const _0x4fa213=await axios[_0x5d96cd(0x8a)](_0x27dec6['BRTXf'],_0x2de5f9,{'headers':_0x2de5f9[_0x5d96cd(0x67)](),'timeout':_0x53d0a9,'maxContentLength':Infinity,'maxBodyLength':Infinity});if(!_0x4fa213[_0x5d96cd(0xa0)])throw new Error(_0x27dec6[_0x5d96cd(0xa1)]);return _0x27dec6['quKuh'](_0x424b3c,0x1)&&console[_0x5d96cd(0x81)](_0x5d96cd(0x77)+_0x424b3c),_0x4fa213['data'];}catch(_0x21c2df){console[_0x5d96cd(0x81)](_0x5d96cd(0x6b)+_0x424b3c+'\x20failed:\x20'+_0x21c2df[_0x5d96cd(0x97)]);if(_0x27dec6[_0x5d96cd(0x6d)](_0x424b3c,_0x410348))throw new Error(_0x5d96cd(0x7b)+_0x410348+'\x20attempts:\x20'+_0x21c2df[_0x5d96cd(0x97)]);await new Promise(_0x447b3a=>setTimeout(_0x447b3a,0xbb8));}}}async function scanImage(_0x4b2c8f){const _0x43bbda=a70_0x132415,_0x524648={'dGVtq':function(_0x55e7ef,_0x4e4fcc){return _0x55e7ef<=_0x4e4fcc;},'yzHKL':function(_0x281fd8,_0x286c47){return _0x281fd8(_0x286c47);},'HTiNY':_0x43bbda(0x98),'giYNd':function(_0x394b69,_0x14eef6){return _0x394b69===_0x14eef6;}},_0x572a26=0x3,_0x108b2b=0x7530;for(let _0x2d57b5=0x1;_0x524648[_0x43bbda(0xa5)](_0x2d57b5,_0x572a26);_0x2d57b5++){try{const _0x5315f9='https://apis.davidcyriltech.my.id/imgscan?url='+_0x524648[_0x43bbda(0xa6)](encodeURIComponent,_0x4b2c8f),_0x4299cd=await axios['get'](_0x5315f9,{'timeout':_0x108b2b});if(!_0x4299cd[_0x43bbda(0xa0)]?.[_0x43bbda(0x78)])throw new Error(_0x4299cd[_0x43bbda(0xa0)]?.[_0x43bbda(0x97)]||_0x524648['HTiNY']);return _0x4299cd[_0x43bbda(0xa0)][_0x43bbda(0x69)];}catch(_0x458d8f){console[_0x43bbda(0x81)](_0x43bbda(0x74)+_0x2d57b5+'\x20failed:\x20'+_0x458d8f[_0x43bbda(0x97)]);if(_0x524648[_0x43bbda(0x87)](_0x2d57b5,_0x572a26))throw new Error(_0x43bbda(0x84)+_0x572a26+_0x43bbda(0x93)+_0x458d8f['message']);await new Promise(_0x337ead=>setTimeout(_0x337ead,0xbb8));}}}function a70_0x30dc(_0x49b913,_0x9ed75f){const _0x5aa761=a70_0x5aa7();return a70_0x30dc=function(_0x30dcad,_0x2dbae0){_0x30dcad=_0x30dcad-0x67;let _0x1ae2a2=_0x5aa761[_0x30dcad];return _0x1ae2a2;},a70_0x30dc(_0x49b913,_0x9ed75f);}cmd({'pattern':a70_0x132415(0x8d),'alias':[a70_0x132415(0xa9),a70_0x132415(0x9f)],'desc':'Scan\x20an\x20image\x20using\x20AI','category':'ai','filename':__filename},async(_0xd4fb1c,_0x3369b3,_0x68e989,{reply:_0x535f6c,quoted:_0x4c0974})=>{const _0x2685b0=a70_0x132415,_0x449d46={'cXCjU':'Please\x20reply\x20to\x20an\x20image\x20file\x20(JPEG/PNG)','ZLxeq':_0x2685b0(0x83),'rmAXK':function(_0x2abc76,_0x515fcb){return _0x2abc76(_0x515fcb);},'aPKuo':_0x2685b0(0x86),'wQYhO':_0x2685b0(0x6e),'HZDgM':_0x2685b0(0x8b),'qlKsL':_0x2685b0(0x70),'UtdUz':_0x2685b0(0x73),'KnuDQ':'fileToUpload','iyvZv':'reqtype','UXAgF':_0x2685b0(0x88),'oJWxo':'üîÑ\x20Analyzing\x20image...','Zlvjk':function(_0x983213,_0x54d770){return _0x983213+_0x54d770;},'TqZGz':_0x2685b0(0x9a)};await _0xd4fb1c['sendMessage'](_0x3369b3[_0x2685b0(0x89)][_0x2685b0(0x72)],{'react':{'text':'üîç','key':_0x3369b3[_0x2685b0(0x89)]}});try{if(!_0x68e989['quoted'])return _0x535f6c(_0x449d46[_0x2685b0(0xa2)]);const _0x477b22=_0x68e989[_0x2685b0(0x76)][_0x2685b0(0x9e)];if(_0x477b22!==_0x449d46[_0x2685b0(0x96)])return _0x449d46[_0x2685b0(0x71)](_0x535f6c,_0x449d46['aPKuo']);const _0x17896b=_0x68e989[_0x2685b0(0x76)][_0x2685b0(0x68)]||'',_0x1c844a=await _0x68e989['quoted'][_0x2685b0(0x9d)](),_0x44c09b=_0x17896b[_0x2685b0(0x79)](_0x449d46[_0x2685b0(0x9b)])?_0x2685b0(0x7f):_0x17896b[_0x2685b0(0x79)](_0x449d46[_0x2685b0(0x90)])?_0x449d46['qlKsL']:null;if(!_0x44c09b)throw new Error(_0x449d46['UtdUz']);const _0x1bb46e=path[_0x2685b0(0x92)](os['tmpdir'](),'imgscan_'+Date[_0x2685b0(0x94)]()+_0x44c09b);fs[_0x2685b0(0x8e)](_0x1bb46e,_0x1c844a);const _0x13b090=new FormData();_0x13b090[_0x2685b0(0x75)](_0x449d46[_0x2685b0(0x9c)],fs[_0x2685b0(0x7e)](_0x1bb46e),'image'+_0x44c09b),_0x13b090[_0x2685b0(0x75)](_0x449d46[_0x2685b0(0x8c)],_0x449d46['UXAgF']);const _0x597bac=await _0x449d46[_0x2685b0(0x71)](uploadToCatbox,_0x13b090);fs['unlinkSync'](_0x1bb46e),await _0x449d46[_0x2685b0(0x71)](_0x535f6c,_0x449d46[_0x2685b0(0x6c)]);const _0x4410df=await _0x449d46['rmAXK'](scanImage,_0x597bac);await _0x449d46['rmAXK'](_0x535f6c,_0x449d46['Zlvjk']('üîç\x20*Image\x20Analysis\x20Results*\x0a\x0a',_0x4410df+'\x0a\x0a')+_0x2685b0(0x7d));}catch(_0x473d13){console[_0x2685b0(0x95)](_0x449d46['TqZGz'],_0x473d13),await _0x535f6c(_0x2685b0(0xa8)+(_0x473d13[_0x2685b0(0x97)]||_0x473d13));}});